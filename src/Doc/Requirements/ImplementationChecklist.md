# 実装チェックリスト

## 目次

1. [基本方針の確認](#1-基本方針の確認)
2. [アーキテクチャ実装チェック](#2-アーキテクチャ実装チェック)
3. [単一責任の原則チェック](#3-単一責任の原則チェック)
4. [ファイル分離チェック](#4-ファイル分離チェック)
5. [JavaScript実装チェック](#5-javascript実装チェック)
6. [C#コーディングチェック](#6-cコーディングチェック)
7. [データベース実装チェック](#7-データベース実装チェック)
8. [View・UI実装チェック](#8-viewui実装チェック)
9. [テスト実装チェック](#9-テスト実装チェック)
10. [パフォーマンスチェック](#10-パフォーマンスチェック)
11. [セキュリティチェック](#11-セキュリティチェック)
12. [最終確認項目](#12-最終確認項目)

---

## 1. 基本方針の確認

### 1.1 技術要件チェック
- [ ] **.NET 8** を使用している
- [ ] **Entity Framework Core InMemory** プロバイダーを使用している
- [ ] **Pure JavaScript** のみ使用（jQuery使用禁止）
- [ ] **RxJS** をAPI通信でのみ使用している
- [ ] **Fetch API** を使用している
- [ ] **.NET Core標準タグヘルパー** を最大限活用している

### 1.2 教育目標の確認
- [ ] **C# 8.0〜11の新機能** を積極的に使用している
- [ ] **フロントエンド技術** の基礎実装がある
- [ ] **クリーンアーキテクチャ** の構造を実装している
- [ ] **保守性の高いコード** を心がけている

### 1.3 プロジェクト構成チェック
- [ ] **Web.Essentials.Domain** プロジェクトが存在する
- [ ] **Web.Essentials.Infrastructure** プロジェクトが存在する
- [ ] **Web.Essentials.App** プロジェクトが存在する
- [ ] プロジェクト参照関係が正しく設定されている

## 2. アーキテクチャ実装チェック

### 2.1 Domain Layer チェック
- [ ] **Entities** フォルダが存在し、適切なエンティティクラスがある
- [ ] **ValueObjects** フォルダが存在し、値オブジェクトが定義されている
- [ ] **Services** フォルダが存在し、ドメインサービスが実装されている
- [ ] **Repositories** フォルダが存在し、リポジトリインターフェースが定義されている
- [ ] **他のレイヤーに依存していない**

### 2.2 Infrastructure Layer チェック
- [ ] **Data** フォルダにDbContextが実装されている
- [ ] **Repositories** フォルダにリポジトリ実装クラスがある
- [ ] **Configurations** フォルダにEntity設定クラスがある
- [ ] **SeedData** フォルダに初期データクラスがある
- [ ] **Domainレイヤーのみに依存している**

### 2.3 Application Layer チェック
- [ ] **Services** フォルダにアプリケーションサービスがある
- [ ] **Interfaces** フォルダにサービスインターフェースがある
- [ ] **DTOs** フォルダにAPI用データ転送オブジェクトがある
- [ ] **ViewModels** フォルダにMVC用ビューモデルがある

### 2.4 Presentation Layer チェック
- [ ] **Controllers/Mvc** フォルダにMVCコントローラーがある
- [ ] **Controllers/Api** フォルダにAPIコントローラーがある
- [ ] **Views** フォルダに適切なRazorビューがある

## 3. 単一責任の原則チェック

### 3.1 クラス設計チェック
- [ ] **各クラスが一つの責務のみ**を持っている
- [ ] **ProductService** - 商品のビジネスロジックのみ
- [ ] **CategoryService** - カテゴリのビジネスロジックのみ
- [ ] **ProductRepository** - 商品データアクセスのみ
- [ ] **CategoryRepository** - カテゴリデータアクセスのみ

### 3.2 メソッド設計チェック
- [ ] **各メソッドが一つの処理のみ**を実行している
- [ ] メソッド名が処理内容を正確に表している
- [ ] メソッドの引数が適切な数に収まっている（推奨：3個以下）
- [ ] メソッドの行数が適切な範囲に収まっている（推奨：20行以下）

### 3.3 ファイル分離チェック
- [ ] **JavaScript処理がインライン記述されていない**
- [ ] **CSSスタイルがインライン記述されていない**
- [ ] 画面ごとに専用のJavaScriptファイルが分離されている
- [ ] 機能ごとに専用のCSSファイルが分離されている

## 4. ファイル分離チェック

### 4.1 JavaScript ファイル分離
```
wwwroot/js/
├── common/           # 共通機能
├── products/         # 商品機能専用
├── categories/       # カテゴリ機能専用
└── lib/             # 外部ライブラリ
```

#### JavaScript分離項目
- [ ] **products-index.js** - 商品一覧画面専用
- [ ] **products-create.js** - 商品登録画面専用
- [ ] **products-edit.js** - 商品編集画面専用
- [ ] **categories-index.js** - カテゴリ一覧画面専用
- [ ] **categories-create.js** - カテゴリ登録画面専用
- [ ] **api-client.js** - API通信専用
- [ ] **pagination.js** - ページング専用
- [ ] **validation.js** - バリデーション専用

### 4.2 CSS ファイル分離
```
wwwroot/css/
├── common/           # 共通スタイル
├── products/         # 商品機能専用
└── categories/       # カテゴリ機能専用
```

#### CSS分離項目
- [ ] **products-index.css** - 商品一覧画面専用
- [ ] **products-form.css** - 商品フォーム専用
- [ ] **categories-index.css** - カテゴリ一覧画面専用
- [ ] **categories-form.css** - カテゴリフォーム専用
- [ ] **pagination.css** - ページング専用
- [ ] **layout.css** - レイアウト専用

### 4.3 View ファイル分離
- [ ] **部分ビュー** が適切に分離されている
- [ ] **共通コンポーネント** が再利用されている
- [ ] **DRY原則** が守られている

## 5. JavaScript実装チェック

### 5.1 RxJS使用方針チェック
- [ ] **RxJSがAPI通信でのみ使用されている**
- [ ] DOM操作でRxJSを使用していない
- [ ] イベント処理で通常のJavaScriptを使用している

### 5.2 API通信実装チェック
- [ ] **ApiClient** クラスが実装されている
- [ ] **ProductSearchService** クラスが実装されている
- [ ] **CategorySearchService** クラスが実装されている
- [ ] エラーハンドリングが適切に実装されている

### 5.3 UI制御実装チェック
- [ ] **ProductIndexController** クラスが実装されている
- [ ] **CategoryIndexController** クラスが実装されている
- [ ] **PaginationComponent** クラスが実装されている
- [ ] デバウンス処理が実装されている

### 5.4 ES6+機能使用チェック
- [ ] **Arrow Functions** を使用している
- [ ] **Template Literals** を使用している
- [ ] **Destructuring** を使用している
- [ ] **Classes** を使用している
- [ ] **async/await** を使用している

## 6. C#コーディングチェック

### 6.1 命名規約チェック
- [ ] **PascalCase** - クラス名、メソッド名、プロパティ名
- [ ] **camelCase** - フィールド名、ローカル変数名、パラメータ名
- [ ] **UPPER_CASE** - 定数名

### 6.2 C# 8.0〜11新機能使用チェック
- [ ] **Switch式** を使用している
- [ ] **Record型** を使用している
- [ ] **Null合体演算子** を使用している
- [ ] **パターンマッチング** を使用している
- [ ] **非同期ストリーム** を適切に使用している

### 6.3 非同期処理チェック
- [ ] **async/await** を適切に使用している
- [ ] **CancellationToken** を適切に使用している
- [ ] **ConfigureAwait(false)** を適切に使用している
- [ ] **Task.WhenAll** で並列処理を活用している

### 6.4 コメント記述チェック
- [ ] **XMLドキュメントコメント** が詳細に記載されている
- [ ] **/// <summary>** がすべてのpublicメンバーにある
- [ ] **/// <param>** がすべてのパラメータにある
- [ ] **/// <returns>** が戻り値のあるメソッドにある
- [ ] **/// <exception>** が例外をスローするメソッドにある
- [ ] **/// <inheritdoc />** をインターフェース実装で使用している

## 7. データベース実装チェック

### 7.1 エンティティ設計チェック
- [ ] **Product** エンティティが適切に実装されている
- [ ] **Category** エンティティが適切に実装されている
- [ ] **ProductCategory** 中間テーブルが適切に実装されている
- [ ] **ProductImage** エンティティが適切に実装されている

### 7.2 DbContext設定チェック
- [ ] **ApplicationDbContext** が適切に実装されている
- [ ] **Entity設定** が適切に実装されている
- [ ] **外部キー制約** が適切に設定されている
- [ ] **インデックス** が適切に設定されている

### 7.3 リポジトリ実装チェック
- [ ] **IProductRepository** インターフェースが定義されている
- [ ] **ICategoryRepository** インターフェースが定義されている
- [ ] **ProductRepository** 実装クラスがある
- [ ] **CategoryRepository** 実装クラスがある

### 7.4 初期データチェック
- [ ] **カテゴリ初期データ** が適切に設定されている
- [ ] **商品初期データ** が適切に設定されている
- [ ] **商品カテゴリ関連データ** が適切に設定されている
- [ ] **商品画像データ** が適切に設定されている

## 8. View・UI実装チェック

### 8.1 MVC View実装チェック
- [ ] **商品一覧画面** (Products/Index) が実装されている
- [ ] **商品詳細画面** (Products/Details) が実装されている
- [ ] **商品登録画面** (Products/Create) が実装されている
- [ ] **商品編集画面** (Products/Edit) が実装されている
- [ ] **カテゴリ一覧画面** (Categories/Index) が実装されている
- [ ] **カテゴリ詳細画面** (Categories/Details) が実装されている
- [ ] **カテゴリ登録画面** (Categories/Create) が実装されている
- [ ] **カテゴリ編集画面** (Categories/Edit) が実装されている

### 8.2 部分ビュー実装チェック
- [ ] **_ProductForm.cshtml** - 商品フォーム共通コンポーネント
- [ ] **_CategoryForm.cshtml** - カテゴリフォーム共通コンポーネント
- [ ] **_SearchForm.cshtml** - 検索フォーム共通コンポーネント
- [ ] **_Pagination.cshtml** - ページング共通コンポーネント
- [ ] **_ProductImageUpload.cshtml** - 画像アップロード共通コンポーネント
- [ ] **_CategorySelect.cshtml** - カテゴリ選択共通コンポーネント

### 8.3 Ajax機能実装チェック
- [ ] **商品検索機能** がAjaxで実装されている
- [ ] **カテゴリ検索機能** がAjaxで実装されている
- [ ] **ページング機能** がAjaxで実装されている
- [ ] **リアルタイム検索** が実装されている

### 8.4 レスポンシブデザインチェック
- [ ] **モバイル対応** のスタイルが実装されている
- [ ] **タブレット対応** のスタイルが実装されている
- [ ] **デスクトップ対応** のスタイルが実装されている

## 9. テスト実装チェック

### 9.1 単体テスト実装チェック
- [ ] **Domain Services** の単体テストがある
- [ ] **Application Services** の単体テストがある
- [ ] **Repositories** の単体テストがある
- [ ] **Controllers** の単体テストがある

### 9.2 JavaScript テストチェック
- [ ] **API Client** の動作検証がある
- [ ] **Search Services** の動作検証がある
- [ ] **UI Components** の動作検証がある
- [ ] **Utility Functions** の動作検証がある

### 9.3 統合テスト実装チェック
- [ ] **API エンドポイント** の統合テストがある
- [ ] **データベース操作** の統合テストがある
- [ ] **認証・認可** の統合テストがある（必要に応じて）

## 10. パフォーマンスチェック

### 10.1 データベースパフォーマンス
- [ ] **N+1問題** が発生していない
- [ ] **Include** を適切に使用している
- [ ] **非同期処理** を適切に使用している
- [ ] **ページング** が効率的に実装されている

### 10.2 フロントエンドパフォーマンス
- [ ] **デバウンス処理** でAPI呼び出しを制限している
- [ ] **画像遅延読み込み** が実装されている（必要に応じて）
- [ ] **仮想スクロール** が実装されている（大量データの場合）
- [ ] **キャッシュ機能** が実装されている（必要に応じて）

### 10.3 メモリ使用量チェック
- [ ] **メモリリーク** が発生していない
- [ ] **DOM要素** の適切な削除が行われている
- [ ] **イベントリスナー** の適切な削除が行われている

## 11. セキュリティチェック

### 11.1 入力値検証チェック
- [ ] **サーバーサイドバリデーション** が実装されている
- [ ] **クライアントサイドバリデーション** が実装されている
- [ ] **XSS対策** が実装されている
- [ ] **CSRF対策** が実装されている

### 11.2 データ保護チェック
- [ ] **HTMLエスケープ** が適切に行われている
- [ ] **SQLインジェクション対策** が実装されている
- [ ] **機密情報** がログに出力されていない
- [ ] **エラーメッセージ** で内部情報が漏洩していない

### 11.3 ファイルアップロードセキュリティ
- [ ] **ファイル形式制限** が実装されている
- [ ] **ファイルサイズ制限** が実装されている
- [ ] **アップロード先制限** が実装されている
- [ ] **ファイル名サニタイズ** が実装されている

## 12. 最終確認項目

### 12.1 機能完成度チェック
- [ ] **商品CRUD機能** がすべて動作する
- [ ] **カテゴリCRUD機能** がすべて動作する
- [ ] **検索機能** が正常に動作する
- [ ] **ページング機能** が正常に動作する
- [ ] **画像アップロード機能** が正常に動作する

### 12.2 エラーハンドリングチェック
- [ ] **バリデーションエラー** が適切に表示される
- [ ] **APIエラー** が適切に処理される
- [ ] **ネットワークエラー** が適切に処理される
- [ ] **サーバーエラー** が適切に処理される

### 12.3 ユーザビリティチェック
- [ ] **ローディング表示** が適切に表示される
- [ ] **成功メッセージ** が適切に表示される
- [ ] **エラーメッセージ** が分かりやすい
- [ ] **ナビゲーション** が直感的である

### 12.4 ブラウザ互換性チェック
- [ ] **Chrome** で正常に動作する
- [ ] **Firefox** で正常に動作する
- [ ] **Safari** で正常に動作する
- [ ] **Edge** で正常に動作する

### 12.5 アクセシビリティチェック
- [ ] **キーボード操作** が可能である
- [ ] **スクリーンリーダー** に対応している
- [ ] **aria属性** が適切に設定されている
- [ ] **コントラスト比** が適切である

### 12.6 教育効果チェック
- [ ] **クリーンアーキテクチャ** の理解を促進している
- [ ] **単一責任の原則** を体験できている
- [ ] **フロントエンド技術** を実践的に学習できている
- [ ] **保守性の高いコード** の書き方を学習できている

### 12.7 コードレビューチェック
- [ ] **コードレビュー** を実施している
- [ ] **ペアプログラミング** を実施している（推奨）
- [ ] **設計レビュー** を実施している
- [ ] **テストレビュー** を実施している

### 12.8 ドキュメント完成度チェック
- [ ] **README.md** が適切に記載されている
- [ ] **API仕様書** が完成している
- [ ] **設計資料** が完成している
- [ ] **運用手順書** が完成している（必要に応じて）

---

## チェックリスト使用方法

### 1. 段階的実装
このチェックリストは実装の段階に応じて使用してください：

1. **設計段階**: アーキテクチャ・基本方針の確認
2. **実装段階**: 各機能の実装確認
3. **テスト段階**: テスト・品質確認
4. **完成段階**: 最終確認

### 2. 優先度の考慮
チェック項目には暗黙的に優先度があります：

- **必須項目**: 基本方針、単一責任の原則、ファイル分離
- **重要項目**: 機能実装、エラーハンドリング、セキュリティ
- **推奨項目**: パフォーマンス、アクセシビリティ、ドキュメント

### 3. 継続的な確認
開発期間中、定期的にこのチェックリストを確認し、品質を維持してください。

特に**単一責任の原則**と**ファイル分離**は、実装を見落としやすいため、頻繁に確認することを強く推奨します。